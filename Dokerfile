# Usa la imagen base de Nginx oficial
FROM nginx:1.25-alpine

# 1. Borra la configuración por defecto
RUN rm /etc/nginx/conf.d/default.conf

# 2. Copia TU configuración a la carpeta de "templates"
#    La imagen de Nginx sabe que debe procesar este archivo
COPY proxy_backend.conf /etc/nginx/templates/default.conf.template

# 3. ¡Eso es todo! No necesitamos entrypoint.sh ni instalar nada.
#    La imagen base se encarga de leer las variables y arrancar Nginx.
